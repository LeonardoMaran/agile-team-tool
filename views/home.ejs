<!DOCTYPE html>
<html lang="en-US">
<head>

<%- include ./header/header_meta.ejs %>

<script src="//code.highcharts.com/highcharts.js"></script>
<script src="//code.highcharts.com/highcharts-more.js"></script>
<script src="//code.highcharts.com/modules/no-data-to-display.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript" src="js/index.js?v=<%=Math.random()%>"></script>
<script type="text/javascript" src="js/indexIteration.js?v=<%=Math.random()%>"></script>
<script type="text/javascript" src="js/indexAssessment.js?v=<%=Math.random()%>"></script>

<style>
  .select2-results__options {font-size: 10.5pt !important}
</style>

</head>

<%- include ./header/header.ejs %>

<body id="ibm-com" class="ibm-type" onload="siteEnv();">
  <div id="ibm-top" class="ibm-landing-page">

    <div id="ibm-content-wrapper">
      <%- include ./header/header_leadspace.ejs %>

      <main role="main" aria-labelledby="Agile teams">
        <div id="ibm-pcon">
          <div id="ibm-content">
            <div id="ibm-content-body">
              <div id="ibm-content-main">
                <div class="ibm-columns">
                  <div class="ibm-col-6-2">
                    <div class="agile-section-nav">
                    </div>
                    <div class="agile-section-filter">

                      <nav class="tab-nav">
                        <ul class="tab-ul" role="tablist" style="width: 100%;">
                            <li id="myTeams" class="tab-ul--item" role="tab" data-state="open">My teams</li>
                            <li id="allTeams" class="tab-ul--item" role="tab">All teams</li>
                        </ul>
                        <i style="position: absolute; font-size: 8pt; text-align: right; display: inline-block; float: right; left: 0px; width: 100%; top: 25px; padding-bottom: 0;"><i class="agile-team-squad">*</i> indicates squad team</i>
                        <input id="nameSearchField" type="search" class="agile-search-field" name="search" placeholder="Enter team name to filter..." hidden=true>
                        <div id="spinnerContainer-search" style="text-align: center" hidden=true>
                          <div style="display: inline-block; margin-top:10em;" class="clear-loading loading-effect-1">
                            <span style="padding: 0;"></span>
                            <span style="padding: 0;"></span>
                            <span style="padding: 0;"></span>
                          </div>
                        </div>
                      </nav>

                      <!--
                      <p class="ibm-button-link" id="filterLinks">
                        <a id="myTeams" role="button" class="ibm-btn-sec ibm-btn-gray-50 ibm-btn-small" style="min-width: 160px; width: 49.5%; padding: 2px;">My team(s)</a>
                        <a id="allTeams" role="button" class="ibm-btn-sec ibm-btn-gray-50 ibm-btn-small" style="min-width: 160px; width: 49.5%; padding: 2px;">All teams</a>
                      </p>
                      -->

                      <!--
                      <p>
                        <input class="clearable" type="text" name="teamFilter" id="teamFilter" value="" placeholder="Enter team name to filter..." aria-label="Name filter for teams" style="width: 94%" />
                      </p>

                      <p class="agile-section-expand-collapse">
                        <a href="#" id="teamExpand">Expand all</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#" id="teamCollapse">Collapse all</a>
                      </p>
                    -->
                    </div>

                    <div class="agile-team-nav" data-widget="scrollable" data-height="600">
                      <div id="searchTree" hidden=true></div>
                      <table class="ibm-data-table" id="searchTable" summary="__REPLACE_ME__" hidden=true>
                      </table>
                      <div id="teamTree"></div>
                      <table class="ibm-data-table" id="teamTable" summary="__REPLACE_ME__">
                      </table>
                    </div>
                  </div>


                  <div id="spinnerContainer" style="text-align: center" class="ibm-col-6-4">
                    <div style="display: inline-block; margin-top:10em;" class="clear-loading loading-effect-1">
                      <span style="padding: 0;"></span>
                      <span style="padding: 0;"></span>
                      <span style="padding: 0;"></span>
                    </div>
                  </div>


                  <div id="no-teams-highlightbox" style="text-align: center; display:none;" class="ibm-col-6-4">
                    <div class="_grid">
                        <div class="_tight">
                            <div class="highlight-box--NOTIFY">
                                <div class="highlight-box--message--NO-IMAGE">
                                    <div class="markdown">
                                        <p>You are not currently a member of any teams. Click "All teams" to view data for existing teams, or click Team Management to create a new team.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>

                  <div id="mainContent" style="display:none" class="ibm-col-6-4">
                    <div class="div--team">
                      <h2 class="heading-teamType" id="teamType"></h2>
                      <h2 style="display:inline" id="teamName"></h2>
<!--                      <div class="div--refreshDate" id="refreshDate" align="right"></div>  -->
                    </div>



                    <div data-widget="showhide" data-type="panel" class="ibm-show-hide" id="iterationSection">
                      <p class="ibm-ind-link" style="float: right;" id="snapshotPull">
                        <a class="ibm-refresh-link" href="#" id="refreshData" style="float: right;"></a>
                        Data as of:&nbsp;<label id="refreshDate"></label>&nbsp;&nbsp;
                      </p>
                      <h2 class="agile-section-title" data-open="true" id="agile-section-title">Iteration trends</h2>
                      <div style="display:none" class="agile-section-nav">
                        <label for="gotoIterationList">Go to iteration:</label>
                        <select id="gotoIterationList"><option value="" selected="selected">Select one</option></select>
                        <input style="padding: 3px; border: 1px solid #323232;" type="button" class="ibm-btn-sec ibm-btn-small" id="GoIterationBtn" value="Go" />
                        <input style="padding: 3px; border: 1px solid #323232;width:130px" type="button" class="ibm-btn-sec ibm-btn-small" id="CreateIterationBtn" value="Create iteration" />
                      </div>

                      <div style="margin-top:2em" class="ibm-container-body">
                        <div id="nsquad_team_scard" style="display: none;">
                          <div class="ibm-columns" style="margin-bottom: 3em;">
                            <div class="ibm-col-6-2">
                              <div id="pvelocityChart" style="min-width: 410px; min-height: 280px;"></div>
                            </div>

                            <div class="ibm-col-6-2">
                              <div id="pthroughputChart" style="min-width: 410px; min-height: 280px;"></div>
                            </div>
                          </div>

                          <div class="ibm-columns" style="margin-bottom: 3em;">

                            <div class="ibm-col-6-2">
                              <div id="pdefectsChart" style="min-width: 410px; min-height: 280px;"></div>
                            </div>
                            <div class="ibm-col-6-2">
                              <div id="pstatisfactionChart" style="min-width: 410px; min-height: 280px;"></div>
                            </div>
                          </div>

                          <div class="ibm-columns" style="margin-bottom: 3em;">
                            <div class="ibm-col-6-2">
                              <div id="pPizzaChart" style="min-width: 410px; min-height: 280px;"></div>
                            </div>

                            <div class="ibm-col-6-2">
                              <div id="piePizzaChart" style="min-width: 410px; min-height: 280px;"></div>
                            </div>
                          </div>
                        </div>

                        <div id="squad_team_scard" style="display: none">
                          <div style="margin-bottom: 3em;" class="ibm-columns">
                            <div class="ibm-col-6-2">
                              <div id="velocityChart" style="min-width: 430px; min-height: 280px;"></div>
                            </div>

                            <div class="ibm-col-6-2">
                              <div id="throughputChart" style="min-width: 430px; min-height: 280px;"></div>
                            </div>
                          </div>

                          <div id="chartgrp2">
                            <div style="margin-bottom: 3em;" class="ibm-columns">
                              <div class="ibm-col-6-2">
                                <div id="defectsChart" style="min-width: 430px; min-height: 280px;"></div>
                              </div>

                              <div class="ibm-col-6-2">
                                <div id="statisfactionChart" style="min-width: 430px; min-height: 280px;"></div>
                              </div>
                            </div>
                          </div>

                          <div id="chartgrp3">
                            <div style="margin-bottom: 3em;" class="ibm-columns">
                              <div class="ibm-col-6-2">
                                <div id="pizzaChart" style="min-width: 430px; min-height: 280px;"></div>
                              </div>
                              <div class="ibm-col-6-2">
                                <div id="unitCostChart" style="min-width: 430px; min-height: 280px;"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div data-widget="showhide" data-type="panel" class="ibm-show-hide" id="assessmentSection">
                      <h2 class="agile-section-title">Maturity assessment trends</h2>
                      <div style="display:none" class="agile-section-nav">
                        <label for="gotoAssesmentList">Go to assessment:</label>
                        <select id="gotoAssesmentList"><option value="" selected="selected">Select one</option></select>
                        <input style="padding: 3px; border: 1px solid #323232;" type="button" class="ibm-btn-sec ibm-btn-small" id="GoAssesmentBtn" value="Go" />
                        <input style="padding: 3px; border: 1px solid #323232;width:130px;" type="button" class="ibm-btn-sec ibm-btn-small" id="CreateAssesmentBtn" value="Create assessment" />
                      </div>
                      <div class="ibm-rule ibm-alternate-1">
                        <hr>
                      </div>
                      <div class="ibm-container-body">
                        <div id="assessmentCharts"></div>
                      </div>
                    </div>
                    <div>
                      <h2 class="ibm-bold ibm-h4" style="display:inline-block; width:50%; float:left">Team Information</h2>
                      <h2 id="teamscore-header" class="ibm-bold ibm-h4">Team Colocation Score</h2>
                      <div style="display:inline-block" id="teamscoreFormula">(?)</div>
                      <div class="teamscore-div" id="teamscoreDiv" hidden="true"></div>
                    </div>
                    <div class="ibm-rule ibm-alternate-1">
                      <hr>
                    </div>
                    <div>
                      <table class="ibm-data-table" id="levelTable" summary="__REPLACE_ME__">
                        <thead class="ibm-access">
                          <tr>
                            <th scope="col" colspan="2">Team Information</th>
                          </tr>
                        </thead>
                        <tbody id="levelDetail">
                        </tbody>
                      </table>
                      <div style="display:inline-block; width: 50%; margin-top: 40px">
                        <div id="titleLabel" style="display: block; text-align: left" hidden="true">Location Analysis</div>
                        <div id="teamscore-piechart" hidden=true></div>
                        <button type='button' class='switchTZButton' id='switchBtn' hidden="true">Switch to Time Zone Analysis</button>
                      </div>
                    </div>
                    <br />
                    <div>
                      <br />
                      <h2 class="ibm-bold ibm-h4">Team Members</h2>
                      <div class="ibm-rule ibm-alternate-1">
                        <hr>
                      </div>
                      <table class="ibm-data-table" id="memberTable" summary="__REPLACE_ME__"  style="font-size: 90%;">
                        <thead>
                          <tr>
                            <th scope="col" width="30%">Name</th>
                            <th scope="col" width="10%">Allocation</th>
                            <th scope="col" width="30%">Location</th>
                            <th scope="col" width="30%">Role</th>
                          </tr>
                        </thead>
                        <tbody id="membersList">
                        </tbody>
                      </table>
                      <!-- The Modal -->
                      <div id="myModal" class="modal">
                        <span id="closeBtn" class="close">×</span>
                        <img class="modal-content" id="img01">
                        <div id="caption"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <div id="ibm-related-content">
        <div id="ibm-merchandising-module">
          <!-- MTE will generate this -->
          <!-- <aside role="complementary" aria-label="Related content"> MTE dynamic modules populate in here. <aside> -->
          <!-- /MTE -->
        </div>
      </div>
    </div>
    <%- include ./footer.ejs %>
  </div>
</body>
</html>
